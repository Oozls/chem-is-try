{% extends "base.html" %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <h2>{% if post %}ğŸ“ ê¸€ ìˆ˜ì •í•˜ê¸°{% else %}âœï¸ ìƒˆ ê¸€ ì‘ì„±{% endif %}</h2>
    
    <form action='/board/{{ "edit/"+post._id|string if post else "post" }}' method="POST" onsubmit="this.querySelector('button[type=submit]').disabled = true;">
        
        <div class="form-group">
            <label for="category">ë§ë¨¸ë¦¬</label>
            <select id="category" name="category" required>
                <option value="ì¼ë°˜" {% if post and post.category == 'ì¼ë°˜' %}selected{% endif %}>ì¼ë°˜</option>
                <option value="ì§ˆë¬¸" {% if post and post.category == 'ì§ˆë¬¸' %}selected{% endif %}>ì§ˆë¬¸</option>
                <option value="ì œë³´" {% if post and post.category == 'ì œë³´' %}selected{% endif %}>ì œë³´</option>
                <option value="ìš”ì²­" {% if post and post.category == 'ìš”ì²­' %}selected{% endif %}>ìš”ì²­</option>
            </select>
        </div>

        <div class="form-group">
            <label for="title">ì œëª©</label>
            <input type="text" id="title" name="title" value="{{ post.title if post else '' }}" required autocomplete="off" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>

        <div class="form-group">
            <label for="content">ë‚´ìš©</label>
            <textarea id="content" name="content" required 
                      style="width: 100%; min-height: 400px; padding: 15px; border: 1px solid #ccc; border-radius: 4px; resize: vertical; font-family: inherit;"
                      placeholder="ë‚´ìš©ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.">{{ post.content if post else '' }}</textarea>
        </div>

        <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
            <a href="{{ '/board' if not post else '/board/view/'+post._id|string }}" class="btn-secondary">ì·¨ì†Œ</a>
            <button type="submit" class="btn-primary">{% if post %}ìˆ˜ì • ì™„ë£Œ{% else %}ë“±ë¡í•˜ê¸°{% endif %}</button>
        </div>
    </form>
</div>
{% endblock %}